require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b,c){var d={};this.sections=function(){return e.copy(d)},this.sync=function(){Object.keys(a).forEach(function(b){var e=a[b],f={},g=null;f.template=function(a){g=a},c.invoke(e,f),d[b]=g})}}function d(){var a={};this.addSection=function(b,c){var d;if(b in a)throw d="LayoutManagerProvider.addSection() duplicate section ",d+="definition: "+b;return a[b]=c,this},this.$get=["$rootScope","$injector",function(b,d){return new c(a,b,d)}]}var e=a("ng");b.exports=d},{ng:"QBxXRv"}],QBxXRv:[function(a,b){b.exports=angular},{}],ng:[function(a,b){b.exports=a("QBxXRv")},{}],4:[function(a){"use strict";var b=a("ng");b.module("kloy.router",[]).constant("KLOY_ROUTER_EVENTS",{ROUTE_CHANGE_START:"kloyRouteChangeStart",ROUTE_CHANGE_SUCCESS:"kloyRouteChangeSuccess",ROUTE_CHANGE_ERROR:"kloyRouteChangeError",ROUTE_CHANGE_REQUEST:"kloyRouteChangeRequest"}).provider("kloyRouter",a("./router")).provider("kloyLayoutManager",a("./layout-manager")).factory("kloyRoute",a("./route")).run(["kloyLayoutManager","$rootScope","KLOY_ROUTER_EVENTS",function(a,b,c){b.section=function(b){return a.sections()[b]||null},b.$on(c.ROUTE_CHANGE_SUCCESS,function(){a.sync()})}]).run(["$rootScope","KLOY_ROUTER_EVENTS","kloyRouter",function(a,b,c){a.$on(b.ROUTE_CHANGE_REQUEST,function(a,b,d){c.go(b,d)})}])},{"./layout-manager":1,"./route":5,"./router":6,ng:"QBxXRv"}],5:[function(a,b){var c=a("ng"),d=function(){var a,b,d,e={};return e._update=function(c){a=c.params||void 0,b=c.name||void 0,d=c.data||void 0},e.params=function(){return a},e.name=function(){return b},e.data=function(){return c.copy(d)},e.is=function(a){return e.name()===a},e.not=function(a){return!e.is(a)},e.includes=function(a){return-1!==e.name().indexOf(a)},e.excludes=function(a){return!e.includes(a)},e.startsWith=function(a){return e.name().substring(0,a.length)===a},e.endsWith=function(a){var b=e.name();return b.substring(b.length-a.length)===a},e};b.exports=d},{ng:"QBxXRv"}],6:[function(a,b){var c=a("ng"),d=function(a,b,d,e,f,g,h,i,j){var k,l,m,n={},o=g.ROUTE_CHANGE_START,p=g.ROUTE_CHANGE_SUCCESS,q=g.ROUTE_CHANGE_ERROR,r=!1;return k=function(a){var e,f=[];return a=a||[],e=i.defer(),e.resolve(),f.push(e.promise),a.forEach(function(a){var e,g;if(e=b[a],!c.isFunction(e))throw"router.checkPermissions(): unknown permission "+a;try{g=d.invoke(e)}catch(i){throw h.error("router.checkPermissions(): problem invoking permission",i),i}f.push(g)}),i.all(f)},l=function(a,b){var d=i.defer(),e=[];return a=a||{},c.isArray(b)?(b.forEach(function(b){b in a||e.push(b)}),e.length?i.reject("missing required param(s) "+e.join(", ")):(d.resolve(),d.promise)):(d.resolve(),d.promise)},m=function(a){var b,e;if(c.isUndefined(a))return e=i.defer(),e.resolve(),e.promise;if(!c.isFunction(a))throw"router.prefetch(): argument must be a function or undefined";try{b=d.invoke(a)}catch(f){throw h.error("router.doPrefetch(): problem invoking prefetch",f),f}return b},n.go=function(b,d){var e,g,n,s,t,u,v,w,x;if(g=a[b],!c.isArray(g))throw"router.go() unknown route "+b;return r?(t="router.go(): paused, cannot go to "+b,h.debug(t),i.reject(t)):(f.$broadcast(o,b,j),e={permissions:function(a){return c.isDefined(a)&&(n=a),n},requireParams:function(a){return c.isDefined(a)&&(u=a),u},prefetch:function(a){return c.isDefined(a)&&(v=a),v},data:function(a){return c.isDefined(a)&&(x=c.copy(a)),x}},g.forEach(function(a){a.bind(e)()}),w=!1,s=k(n).then(function(){return l(d,u)},function(a){return w?i.reject(a):(h.debug("router.go(): permissions error",a,b),f.$broadcast(q,{message:a,type:"permissions"},b,j),w=!0,i.reject(a))}).then(function(){return m(v)},function(a){return w?i.reject(a):(h.debug("router.go(): params error",a,b),f.$broadcast(q,{message:a,type:"params"},b,j),w=!0,i.reject(a))}).then(null,function(a){return w?i.reject(a):(h.debug("router.go(): prefetch error",a,b),f.$broadcast(q,{message:a,type:"prefetch"},b,j),w=!0,i.reject(a))}).then(function(a){return j._update({params:d,name:b,data:x}),f.$broadcast(p,b,j),a}))},n.pause=function(){return r=!0,n},n.play=function(){return r=!1,n},n},e=function(){var a={},b={},e={};return a.addRoute=function(c,d){if(c in b)throw"routerProvider.addRoute() route already defined "+c;return b[c]=[d],a},a.modifyRoute=function(d,e){if(c.isUndefined(b[d]))throw"routerProvider.modifyRoute() route not defined "+d;return b[d].push(e),a},a.addPermission=function(b,c){if(b in e)throw"routerProvider.addPermission(): permission already defined";return e[b]=c,a},a.$get=["$injector","$location","$rootScope","KLOY_ROUTER_EVENTS","$log","$q","kloyRoute",function(a,c,f,g,h,i,j){return d(b,e,a,c,f,g,h,i,j)}],a};b.exports=e},{ng:"QBxXRv"}]},{},[4]);